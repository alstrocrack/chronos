{
  "scripts": {
    "build": "rm -r dist/ && tsc",
    "deploy": "if [ -e index.zip ]; then rm -r index.zip; fi && mv dist/main.js dist/index.mjs && zip -j index.zip dist/index.mjs && dotenv -- bash -c 'aws lambda update-function-code --function-name $FUNCTION_NAME --zip-file fileb://index.zip'",
    "deploy:modules": "if [ ! -e nodejs/node18 ]; then mkdir -p nodejs/node18; fi && cp -r node_modules nodejs/node18/node_modules && zip -r nodejs.zip nodejs && dotenv -- bash -c 'aws lambda publish-layer-version --layer-name $LAYER_NAME --zip-file fileb://nodejs.zip --compatible-runtimes nodejs18.x'"
  },
  "type": "module",
  "dependencies": {
    "@aws-sdk/client-secrets-manager": "^3.370.0",
    "@planetscale/database": "^1.8.0",
    "aws-xray-sdk": "^3.5.0",
    "axios": "^1.4.0",
    "dotenv": "^16.3.1",
    "redis": "^4.6.7",
    "typescript": "^5.1.6"
  },
  "devDependencies": {
    "dotenv-cli": "^7.2.1"
  }
}
